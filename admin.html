<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Admin - Portfolio</title>
  <style>
    :root {
      --blue:#1937BF; --blue-dark:#142a8c; --red:#f44336; --bg:#f5f7fb; --radius:12px;
    }
    * { box-sizing:border-box; }
    body { margin:0; font-family:Arial, sans-serif; background:var(--bg); padding:32px 18px 60px; color:#1c1f24; }
    h1,h2,h3 { margin:0 0 18px; font-weight:600; letter-spacing:.5px; }
    a { color:var(--blue); }
    .container { max-width:1040px; margin:0 auto; }
    header { display:flex; justify-content:space-between; align-items:center; gap:20px; flex-wrap:wrap; margin-bottom:34px; }
    header h1 { font-size:clamp(1.6rem,2.3vw,2.2rem); color:var(--blue); }
    .badge { background:var(--blue); color:#fff; padding:6px 14px; border-radius:24px; font-size:.72rem; letter-spacing:.5px; }

    /* Card */
    .card { background:#fff; border-radius:var(--radius); padding:28px 28px 30px; box-shadow:0 4px 18px -6px rgba(15,40,120,.18); border:1px solid #e4e9f2; }
    .card + .card { margin-top:40px; }

    form .grid { display:grid; gap:18px; }
    .g2 { grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); }
    label { font-size:.72rem; text-transform:uppercase; letter-spacing:.9px; font-weight:600; display:block; margin:0 0 6px; color:#384156; }
    input[type=text],input[type=date],select,textarea { width:100%; border:1.8px solid #d5dce6; border-radius:8px; background:#fff; padding:12px 13px; font-size:.9rem; font-family:inherit; resize:vertical; min-height:46px; }
    textarea { min-height:110px; line-height:1.4; }
    input:focus, select:focus, textarea:focus { outline:none; border-color:var(--blue); box-shadow:0 0 0 3px rgba(25,55,191,.18); }
    .row-inline { display:flex; align-items:center; gap:10px; flex-wrap:wrap; }
    .check { display:flex; align-items:center; gap:8px; font-size:.8rem; margin-top:4px; }

    /* Upload */
    .upload-box { border:2px dashed var(--blue); background:#f0f4ff; border-radius:16px; min-height:150px; display:flex; flex-direction:column; justify-content:center; align-items:center; text-align:center; padding:22px 18px; cursor:pointer; transition:.25s; }
    .upload-box:hover, .upload-box.drag { background:#e5ecff; border-color:var(--blue-dark); }
    .upload-box p { margin:0; font-size:.85rem; color:#2a3550; }
    .gallery { margin-top:18px; display:grid; grid-template-columns:repeat(auto-fill,minmax(120px,1fr)); gap:14px; }
    .thumb { position:relative; border-radius:12px; overflow:hidden; aspect-ratio:1; background:#eef1f7; box-shadow:0 3px 10px -3px rgba(0,0,0,.25); }
    .thumb img { width:100%; height:100%; object-fit:cover; display:block; }
    .thumb button { position:absolute; inset:6px 6px auto auto; width:30px; height:30px; border:none; border-radius:50%; background:rgba(0,0,0,.55); color:#fff; cursor:pointer; font-size:15px; display:flex; align-items:center; justify-content:center; }
    .thumb button:hover { background:#d62828; }

    /* Buttons */
    .actions { display:flex; gap:12px; flex-wrap:wrap; }
    button, .btn { --btn-bg:var(--blue); --btn-bg-hover:var(--blue-dark); font-family:inherit; font-size:.9rem; padding:12px 22px; border-radius:10px; background:var(--btn-bg); color:#fff; border:1px solid var(--btn-bg); cursor:pointer; font-weight:600; letter-spacing:.5px; transition:.25s; position:relative; }
    button:hover { background:var(--btn-bg-hover); }
    .danger { --btn-bg:var(--red); --btn-bg-hover:#cf2e24; }
    .subtle { --btn-bg:#6b7890; --btn-bg-hover:#596274; }

    /* Post list */
    .post-list { margin-top:10px; display:grid; gap:26px; }
    .post { background:#fff; border:1px solid #e2e8f1; border-radius:18px; overflow:hidden; display:flex; flex-direction:column; box-shadow:0 4px 14px -4px rgba(0,0,0,.12); }
    .post figure { margin:0; aspect-ratio:16/9; background:#111; position:relative; max-height:160px; }
    .post figure img { width:100%; height:100%; object-fit:cover; display:block; }
    .post .p-body { padding:18px 20px 20px; display:flex; flex-direction:column; gap:10px; }
    .chips { display:flex; gap:8px; flex-wrap:wrap; }
    .chip { background:#eef2f9; color:#223; padding:4px 10px; font-size:.65rem; letter-spacing:.5px; font-weight:600; border-radius:16px; }
    .meta { font-size:.7rem; letter-spacing:.5px; color:#5a6475; display:flex; gap:10px; flex-wrap:wrap; }
    .post h3 { margin:0 0 4px; font-size:1.05rem; }
    .post p { margin:0; font-size:.8rem; line-height:1.45; color:#2d3647; }
    .post footer { margin-top:4px; display:flex; justify-content:space-between; align-items:center; gap:10px; flex-wrap:wrap; }

    /* Modal */
    dialog { border:none; border-radius:22px; padding:0; width:clamp(260px,90%,820px); max-width:820px; box-shadow:0 20px 60px -12px rgba(0,0,0,.35); animation:pop .5s cubic-bezier(.65,.03,.19,1); }
    dialog::backdrop { background:rgba(18,23,45,.55); backdrop-filter:blur(4px); }
    .m-wrapper { padding:38px clamp(18px,3.2vw,42px) 46px; }
    .m-head { display:flex; justify-content:space-between; gap:26px; align-items:flex-start; margin:0 0 12px; }
    .m-head h3 { margin:0; font-size:1.3rem; }
    .close-x { background:#e3e8f1; border:none; width:38px; height:38px; border-radius:14px; cursor:pointer; font-size:18px; font-weight:600; display:flex; align-items:center; justify-content:center; }
    .close-x:hover { background:#d1dae5; }

    @keyframes pop { 0% { transform:translateY(20px) scale(.95); opacity:0;} 100% { transform:translateY(0) scale(1); opacity:1;} }
    @media (max-width:720px){ header{flex-direction:column; align-items:flex-start;} .m-wrapper{padding:34px 20px 40px;} }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Admin Panel</h1>
      <div style="display:flex; gap:12px; align-items:center;">
        <span class="badge">Direct Access</span>
        <button type="button" onclick="uploadToGitHub()" style="background:#28a745; padding:8px 16px; border:none; border-radius:8px; color:white; font-size:.8rem; cursor:pointer;">üåê Upload Online</button>
      </div>
    </header>

    <!-- CREATE -->
    <section class="card" id="createSection">
      <h2>Nieuw Project</h2>
      <form id="addPostForm">
        <div class="grid g2">
          <div><label for="title">Titel</label><input id="title" type="text" required></div>
          <div><label for="category">Categorie</label><select id="category" required><option value="DESIGN">DESIGN</option><option value="BRANDING">BRANDING</option><option value="UI/UX">UI/UX</option><option value="MOTION">MOTION</option><option value="WEB">WEB</option><option value="ILLUSTRATION">ILLUSTRATION</option></select></div>
          <div><label for="type">Type</label><select id="type" required><option>Design</option><option>Branding</option><option>UI/UX</option><option>Motion</option><option>Web</option><option>Illustration</option></select></div>
          <div><label for="date">Datum</label><input id="date" type="date" required></div>
          <div><label for="client">Client</label><input id="client" type="text" placeholder="Bedrijf / Persoon"></div>
          <div><label for="tools">Tools</label><input id="tools" type="text" placeholder="Figma, Illustrator..." /></div>
        </div>
        <div class="grid" style="margin-top:14px;">
          <div><label for="purpose">Doel</label><textarea id="purpose" placeholder="Doel van het project"></textarea></div>
          <div><label for="description">Beschrijving</label><textarea id="description" required placeholder="Korte beschrijving..."></textarea></div>
        </div>
        <div class="grid g2" style="margin-top:10px;">
          <div><label for="status">Status</label><select id="status"><option value="Standaard Project">Standaard Project</option><option value="Featured Project">Featured Project</option><option value="Premium Project">Premium Project</option><option value="Concept Project">Concept Project</option></select></div>
          <div class="check"><input id="featured" type="checkbox" /> <label style="margin:0; font-size:.7rem; text-transform:none; font-weight:500;" for="featured">Featured</label></div>
        </div>
        <div style="margin-top:22px;">
          <label>Afbeeldingen</label>
          <div id="uploadBox" class="upload-box">
            <p>üìÅ Sleep of klik om afbeeldingen te kiezen<br><span style="opacity:.65; font-size:.7rem;">Meerdere toegestaan ‚Ä¢ JPG / PNG / GIF</span></p>
            <input id="imageInput" type="file" accept="image/*" multiple hidden />
          </div>
          <div id="gallery" class="gallery"></div>
        </div>
        <div class="actions" style="margin-top:28px;">
          <button type="submit">Project opslaan</button>
          <button type="button" class="subtle" id="clearFormBtn">Leeg maken</button>
        </div>
      </form>
    </section>

    <!-- LIST -->
    <section class="card" id="listSection">
      <h2>Projecten</h2>
      <div id="postsList" class="post-list"></div>
    </section>

    <!-- HARDCODED POSTS -->
    <section class="card" id="hardcodedSection">
      <h2>üè† Hardcoded Posts</h2>
      <p style="opacity:.7; font-size:.8rem; margin-bottom:20px;">Deze posts zitten hardcoded in de code. Je kunt ze hier bewerken of verbergen.</p>
      <div id="hardcodedList" class="post-list"></div>
    </section>
  </div>

  <!-- EDIT MODAL -->
  <dialog id="editDialog">
    <form method="dialog" id="editForm" class="m-wrapper">
      <div class="m-head">
        <h3>Project Bewerken</h3>
        <button type="button" class="close-x" id="closeEdit">√ó</button>
      </div>
      <div class="grid g2">
        <div><label for="e_title">Titel</label><input id="e_title" required></div>
        <div><label for="e_category">Categorie</label><select id="e_category" required><option value="DESIGN">DESIGN</option><option value="BRANDING">BRANDING</option><option value="UI/UX">UI/UX</option><option value="MOTION">MOTION</option><option value="WEB">WEB</option><option value="ILLUSTRATION">ILLUSTRATION</option></select></div>
        <div><label for="e_type">Type</label><select id="e_type" required><option>Design</option><option>Branding</option><option>UI/UX</option><option>Motion</option><option>Web</option><option>Illustration</option></select></div>
        <div><label for="e_date">Datum</label><input id="e_date" type="date"></div>
        <div><label for="e_client">Client</label><input id="e_client" type="text"></div>
        <div><label for="e_tools">Tools</label><input id="e_tools" type="text"></div>
      </div>
      <div class="grid" style="margin-top:14px;">
        <div><label for="e_purpose">Doel</label><textarea id="e_purpose"></textarea></div>
        <div><label for="e_description">Beschrijving</label><textarea id="e_description" required></textarea></div>
      </div>
      <div class="grid g2" style="margin-top:10px;">
        <div><label for="e_status">Status</label><select id="e_status"><option value="Standaard Project">Standaard Project</option><option value="Featured Project">Featured Project</option><option value="Premium Project">Premium Project</option><option value="Concept Project">Concept Project</option></select></div>
        <div class="check"><input id="e_featured" type="checkbox" /> <label for="e_featured" style="margin:0; font-size:.7rem; text-transform:none; font-weight:500;">Featured</label></div>
      </div>
      <div style="margin-top:22px;">
        <label>Afbeeldingen (toevoegen)</label>
        <div id="editUploadBox" class="upload-box" style="min-height:120px;">
          <p>Sleep / klik om extra afbeeldingen toe te voegen</p>
          <input id="editImageInput" type="file" accept="image/*" multiple hidden />
        </div>
        <div id="editGallery" class="gallery" style="margin-top:14px;"></div>
        <div style="margin-top:10px; font-size:.65rem; opacity:.7;" id="currentImagesNote"></div>
      </div>
      <div class="actions" style="margin-top:30px;">
        <button type="submit">Opslaan</button>
        <button type="button" class="danger" id="deleteBtn">Verwijderen</button>
      </div>
    </form>
  </dialog>

  <script>
    // ========== Storage Helpers ==========
    function getPosts(){ try { return JSON.parse(localStorage.getItem('portfolioPosts')||'[]'); } catch(e){ return []; } }
    function setPosts(list){ localStorage.setItem('portfolioPosts', JSON.stringify(list)); }
    function signalUpdate(){ const t=Date.now().toString(); localStorage.setItem('portfolioUpdated', t); localStorage.setItem('newPostAdded','true'); }

    // ========== State ==========
    let newImages = []; // {dataUrl, name}
    let editAddImages = [];
    let editingId = null;

    // ========== Elements ==========
    const form = document.getElementById('addPostForm');
    const gallery = document.getElementById('gallery');
    const uploadBox = document.getElementById('uploadBox');
    const imageInput = document.getElementById('imageInput');
    const postsListEl = document.getElementById('postsList');
    const clearFormBtn = document.getElementById('clearFormBtn');

    // Edit dialog elements
    const editDialog = document.getElementById('editDialog');
    const closeEdit = document.getElementById('closeEdit');
    const editForm = document.getElementById('editForm');
    const editImageInput = document.getElementById('editImageInput');
    const editUploadBox = document.getElementById('editUploadBox');
    const editGallery = document.getElementById('editGallery');
    const deleteBtn = document.getElementById('deleteBtn');
    const currentImagesNote = document.getElementById('currentImagesNote');

    // ========== Image Handling (Create) ==========
    uploadBox.addEventListener('click', () => imageInput.click());
    uploadBox.addEventListener('dragover', e => { e.preventDefault(); uploadBox.classList.add('drag'); });
    uploadBox.addEventListener('dragleave', () => uploadBox.classList.remove('drag'));
    uploadBox.addEventListener('drop', e => { e.preventDefault(); uploadBox.classList.remove('drag'); handleFiles(Array.from(e.dataTransfer.files), newImages, gallery); });
    imageInput.addEventListener('change', e => handleFiles(Array.from(e.target.files), newImages, gallery));

    function handleFiles(files, targetArray, targetGallery){
      files.forEach(f=>{ if(!f.type.startsWith('image/')) return; const r=new FileReader(); r.onload=e=>{ targetArray.push({dataUrl:e.target.result, name:f.name}); renderGallery(targetArray,targetGallery); }; r.readAsDataURL(f); });
    }
    function renderGallery(list, target){ target.innerHTML=''; list.forEach((img,i)=>{ const d=document.createElement('div'); d.className='thumb'; d.innerHTML=`<img src="${img.dataUrl}" alt="img"><button type="button" data-i="${i}">√ó</button>`; d.querySelector('button').onclick=()=>{ list.splice(i,1); renderGallery(list,target); }; target.appendChild(d); }); }

    // ========== Submit (Create) ==========
    form.addEventListener('submit', e => {
      e.preventDefault();
      const posts = getPosts();
      const post = {
        id: Date.now(),
        title: document.getElementById('title').value.trim(),
        description: document.getElementById('description').value.trim(),
        category: document.getElementById('category').value,
        type: document.getElementById('type').value,
        client: document.getElementById('client').value.trim(),
        purpose: document.getElementById('purpose').value.trim(),
        tools: document.getElementById('tools').value.trim(),
        date: document.getElementById('date').value || new Date().toISOString().slice(0,10),
        status: document.getElementById('status').value,
        featured: document.getElementById('featured').checked,
        images: newImages.map(i=>i.dataUrl)
      };
      if(!post.title || !post.description){ alert('Titel en beschrijving verplicht'); return; }
      posts.unshift(post);
      setPosts(posts); signalUpdate();
      renderPosts();
      form.reset(); newImages=[]; gallery.innerHTML='';
      alert('Project opgeslagen! Ga naar home om te zien.');
    });

    clearFormBtn.addEventListener('click', ()=>{ form.reset(); newImages=[]; gallery.innerHTML=''; });

    // ========== Render Posts ==========
    function renderPosts(){
      const posts=getPosts();
      if(posts.length===0){ postsListEl.innerHTML='<p style="opacity:.6; font-size:.8rem;">Nog geen projecten toegevoegd.</p>'; return; }
      postsListEl.innerHTML = posts.map(p=>{
        const cover = (p.images && p.images[0]) || 'images/placeholder.svg';
        return `<div class="post" data-id="${p.id}">
          <figure><img src="${cover}" alt="${p.title}"></figure>
            <div class="p-body">
              <div class="chips"><span class="chip">${p.category}</span>${p.featured?'<span class="chip" style="background:#ffd76b;">FEATURED</span>':''}</div>
              <h3>${p.title}</h3>
              <p>${escapeHtml(p.description).slice(0,160)}${p.description.length>160?'‚Ä¶':''}</p>
              <div class="meta"><span>${p.type}</span><span>${p.date}</span><span>${(p.images||[]).length} img</span></div>
              <footer class="actions"><button type="button" data-edit="${p.id}" class="subtle">Bewerken</button><button type="button" data-del="${p.id}" class="danger">Verwijderen</button></footer>
            </div></div>`;
      }).join('');
    }

    function escapeHtml(str){ return str.replace(/[&<>"]/g, c=>({"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;"}[c])); }

    // ========== Edit ==========
    postsListEl.addEventListener('click', e=>{
      const editId = e.target.getAttribute('data-edit');
      const delId = e.target.getAttribute('data-del');
      if(editId){ openEdit(+editId); }
      if(delId){ deletePost(+delId); }
    });

    function openEdit(id){
      const posts=getPosts();
      const post=posts.find(p=>p.id===id); if(!post) return;
      editingId=id; editAddImages=[]; editGallery.innerHTML='';
      // Fill fields
      e_title.value=post.title; e_description.value=post.description; e_category.value=post.category; e_type.value=post.type; e_client.value=post.client||''; e_purpose.value=post.purpose||''; e_tools.value=post.tools||''; e_date.value=post.date||''; e_status.value=post.status||'Standaard Project'; e_featured.checked=!!post.featured;
      currentImagesNote.textContent = `Huidige afbeeldingen: ${(post.images||[]).length}. Toegevoegde nieuwe: 0`;
      editDialog.showModal();
    }

    closeEdit.addEventListener('click', ()=> editDialog.close());
    editDialog.addEventListener('close', ()=>{ editingId=null; editAddImages=[]; });

    editUploadBox.addEventListener('click', ()=> editImageInput.click());
    editUploadBox.addEventListener('dragover', e=>{ e.preventDefault(); editUploadBox.classList.add('drag'); });
    editUploadBox.addEventListener('dragleave', ()=> editUploadBox.classList.remove('drag'));
    editUploadBox.addEventListener('drop', e=>{ e.preventDefault(); editUploadBox.classList.remove('drag'); handleFiles(Array.from(e.dataTransfer.files), editAddImages, editGallery); updateEditNote(); });
    editImageInput.addEventListener('change', e=>{ handleFiles(Array.from(e.target.files), editAddImages, editGallery); updateEditNote(); });
    function updateEditNote(){ currentImagesNote.textContent = `Extra toe te voegen afbeeldingen: ${editAddImages.length}`; }

    editForm.addEventListener('submit', e=>{
      e.preventDefault(); if(editingId==null) return;
      const posts=getPosts(); const i=posts.findIndex(p=>p.id===editingId); if(i===-1) return;
      const post=posts[i];
      post.title=e_title.value.trim(); post.description=e_description.value.trim(); post.category=e_category.value; post.type=e_type.value; post.client=e_client.value.trim(); post.purpose=e_purpose.value.trim(); post.tools=e_tools.value.trim(); post.date=e_date.value || post.date; post.status=e_status.value; post.featured=e_featured.checked;
      if(!post.images) post.images=[]; post.images = [...post.images, ...editAddImages.map(x=>x.dataUrl)];
      posts[i]=post; setPosts(posts); signalUpdate(); renderPosts(); editDialog.close(); alert('Project bijgewerkt');
    });

    deleteBtn.addEventListener('click', ()=>{ if(editingId==null) return; if(!confirm('Verwijderen?')) return; deletePost(editingId); editDialog.close(); });

    function deletePost(id){ let posts=getPosts().filter(p=>p.id!==id); setPosts(posts); signalUpdate(); renderPosts(); }

    // ========== Init ==========
    renderPosts();
    renderHardcodedPosts();

    // ========== Hardcoded Posts Management ==========
    function getHardcodedPosts(){
      // Haal ALLE hardcoded posts op uit script.js data (12 posts)
      return [
        {
          id: 1,
          title: "Character Design Project",
          image: "images/characters.jpg",
          images: ["images/characters.jpg"],
          type: "Design",
          category: "DESIGN",
          date: "2024-01-15",
          featured: true,
          description: "Een uitgebreide character design studie voor een nieuwe animatieserie.",
          client: "Animation Studio XYZ",
          purpose: "Character ontwikkeling voor nieuwe serie",
          tools: "Photoshop, Illustrator, Procreate",
          status: "Featured Project"
        },
        {
          id: 2,
          title: "Brand Identity",
          image: "images/project2.jpg", 
          images: ["images/project2.jpg"],
          type: "Branding",
          category: "BRANDING",
          date: "2024-01-10",
          featured: false,
          description: "Complete merkidentiteit voor een tech startup.",
          client: "TechStart BV",
          purpose: "Volledige rebranding voor marktlancering",
          tools: "Illustrator, InDesign, Figma",
          status: "Standaard Project"
        },
        {
          id: 3,
          title: "Mobile App Design",
          image: "images/project3.jpg",
          images: ["images/project3.jpg"],
          type: "UI/UX",
          category: "UI/UX",
          date: "2024-01-08",
          featured: false,
          description: "Gebruiksvriendelijke mobile app voor fitness tracking.",
          client: "FitLife App",
          purpose: "Intu√Øtieve fitness tracking experience",
          tools: "Figma, Principle, After Effects",
          status: "Standaard Project"
        },
        {
          id: 4,
          title: "Logo Animation",
          image: "images/project4.jpg",
          images: ["images/project4.jpg"],
          type: "Motion",
          category: "MOTION",
          date: "2024-01-05", 
          featured: true,
          description: "Dynamische logo animatie voor branding purposes.",
          client: "Dynamic Brands",
          purpose: "Levendige merkidentiteit voor video content",
          tools: "After Effects, Cinema 4D, Illustrator",
          status: "Featured Project"
        },
        {
          id: 5,
          title: "Website Redesign",
          image: "images/project5.png",
          images: ["images/project5.png"],
          type: "Web",
          category: "WEB",
          date: "2024-01-03",
          featured: false,
          description: "Moderne website redesign met focus op UX.",
          client: "E-commerce Plus",
          purpose: "Verbetering van conversie en gebruikerservaring",
          tools: "Figma, HTML/CSS, JavaScript",
          status: "Standaard Project"
        },
        {
          id: 6,
          title: "Packaging Design",
          image: "images/project6.png",
          images: ["images/project6.png"],
          type: "Design",
          category: "DESIGN",
          date: "2024-01-01",
          featured: false,
          description: "Duurzame packaging oplossing voor cosmetica merk.",
          client: "Natural Beauty Co",
          purpose: "Eco-vriendelijke verpakking met premium uitstraling",
          tools: "Illustrator, Photoshop, KeyShot",
          status: "Standaard Project"
        },
        {
          id: 7,
          title: "Streetwear Collection",
          image: "images/project7.png",
          images: ["images/project7.png"],
          type: "Design",
          category: "DESIGN",
          date: "2024-01-20",
          featured: false,
          description: "Urban streetwear collectie met focus op duurzaamheid.",
          client: "Urban Culture Brand",
          purpose: "Duurzame streetwear lijn voor jonge doelgroep",
          tools: "Illustrator, Photoshop, CLO 3D",
          status: "Standaard Project"
        },
        {
          id: 8,
          title: "Digital Campaign",
          image: "images/project8.png",
          images: ["images/project8.png"],
          type: "Design",
          category: "DESIGN",
          date: "2024-01-18",
          featured: false,
          description: "Digitale campagne voor nieuwe productlancering.",
          client: "Innovation Labs",
          purpose: "Aandacht genereren voor product lancering",
          tools: "Photoshop, After Effects, Premiere Pro",
          status: "Standaard Project"
        },
        {
          id: 9,
          title: "E-commerce Platform",
          image: "images/project9.png",
          images: ["images/project9.png"],
          type: "Web",
          category: "WEB",
          date: "2024-01-16",
          featured: false,
          description: "Moderne e-commerce platform met seamless UX.",
          client: "ShopEasy BV",
          purpose: "Verhogen van online verkoop en klanttevredenheid",
          tools: "Figma, React, Node.js",
          status: "Standaard Project"
        },
        {
          id: 10,
          title: "Motion Graphics Reel",
          image: "images/project10.png",
          images: ["images/project10.png"],
          type: "Motion",
          category: "MOTION",
          date: "2024-01-14",
          featured: false,
          description: "Showcase van motion graphics projecten.",
          client: "Portfolio showcase",
          purpose: "Demonstratie van motion design vaardigheden",
          tools: "After Effects, Cinema 4D, Premiere Pro",
          status: "Standaard Project"
        },
        {
          id: 11,
          title: "Corporate Identity",
          image: "images/project11.png",
          images: ["images/project11.png"],
          type: "Branding",
          category: "BRANDING",
          date: "2024-01-12",
          featured: false,
          description: "Complete corporate identity voor financi√´le instelling.",
          client: "SecureBank NL",
          purpose: "Professionele en betrouwbare uitstraling",
          tools: "Illustrator, InDesign, Photoshop",
          status: "Standaard Project"
        },
        {
          id: 12,
          title: "Product Photography",
          image: "images/project12.png",
          images: ["images/project12.png"],
          type: "Photography",
          category: "DESIGN",
          date: "2024-01-09",
          featured: false,
          description: "High-end product fotografie voor luxe merk.",
          client: "Luxury Goods Inc",
          purpose: "Premium productpresentatie voor e-commerce",
          tools: "Canon 5D, Lightroom, Photoshop",
          status: "Standaard Project"
        }
      ];
    }

    function getHardcodedOverrides(){ try { return JSON.parse(localStorage.getItem('overriddenHardcodedPosts')||'{}'); } catch(e){ return {}; } }
    function setHardcodedOverrides(overrides){ localStorage.setItem('overriddenHardcodedPosts', JSON.stringify(overrides)); }
    function getHiddenHardcoded(){ try { return JSON.parse(localStorage.getItem('hiddenHardcodedPosts')||'[]'); } catch(e){ return []; } }
    function setHiddenHardcoded(list){ localStorage.setItem('hiddenHardcodedPosts', JSON.stringify(list)); }

    function renderHardcodedPosts(){
      const hardcodedList = document.getElementById('hardcodedList');
      const hardcoded = getHardcodedPosts();
      const overrides = getHardcodedOverrides();
      const hidden = getHiddenHardcoded();

      if(hardcoded.length === 0){ 
        hardcodedList.innerHTML='<p style="opacity:.6;">Geen hardcoded posts gevonden.</p>'; 
        return; 
      }

      hardcodedList.innerHTML = hardcoded.map(p=>{
        const finalPost = overrides[p.id] || p;
        const isHidden = hidden.includes(p.id);
        const cover = (finalPost.images && finalPost.images[0]) || finalPost.image || 'images/placeholder.svg';
        
        return `<div class="post" data-id="h_${p.id}" style="${isHidden ? 'opacity:0.5; border:2px dashed #ccc;' : ''}">
          <figure><img src="${cover}" alt="${finalPost.title}"></figure>
          <div class="p-body">
            <div class="chips">
              <span class="chip">${finalPost.category || finalPost.type}</span>
              ${finalPost.featured?'<span class="chip" style="background:#ffd76b;">FEATURED</span>':''}
              ${isHidden?'<span class="chip" style="background:#f44336; color:white;">HIDDEN</span>':''}
            </div>
            <h3>${finalPost.title}</h3>
            <p>${escapeHtml(finalPost.description || '').slice(0,160)}${(finalPost.description||'').length>160?'‚Ä¶':''}</p>
            <div class="meta"><span>${finalPost.type}</span><span>${finalPost.date}</span><span>Hardcoded</span></div>
            <footer class="actions">
              <button type="button" data-edit-hardcoded="${p.id}" class="subtle">Bewerken</button>
              <button type="button" data-toggle-hardcoded="${p.id}" class="${isHidden?'':'danger'}">${isHidden?'Tonen':'Verbergen'}</button>
              ${overrides[p.id] ? `<button type="button" data-reset-hardcoded="${p.id}" style="background:#6c757d;">Reset</button>` : ''}
            </footer>
          </div>
        </div>`;
      }).join('');
    }

    // Hardcoded post event handling
    document.getElementById('hardcodedList').addEventListener('click', e=>{
      const editId = e.target.getAttribute('data-edit-hardcoded');
      const toggleId = e.target.getAttribute('data-toggle-hardcoded');
      const resetId = e.target.getAttribute('data-reset-hardcoded');
      
      if(editId){ editHardcodedPost(+editId); }
      if(toggleId){ toggleHardcodedPost(+toggleId); }
      if(resetId){ resetHardcodedPost(+resetId); }
    });

    function editHardcodedPost(id){
      const hardcoded = getHardcodedPosts();
      const overrides = getHardcodedOverrides();
      const post = overrides[id] || hardcoded.find(p=>p.id===id);
      if(!post) return;

      editingId = `hardcoded_${id}`;
      editAddImages = [];
      editGallery.innerHTML = '';

      // Fill fields
      e_title.value = post.title;
      e_description.value = post.description || '';
      e_category.value = post.category || 'DESIGN';
      e_type.value = post.type || 'Design';
      e_client.value = post.client || '';
      e_purpose.value = post.purpose || '';
      e_tools.value = post.tools || '';
      e_date.value = post.date || '';
      e_status.value = post.status || 'Standaard Project';
      e_featured.checked = !!post.featured;
      
      currentImagesNote.textContent = `Huidige afbeeldingen: ${(post.images||[]).length}. Dit is een hardcoded post.`;
      editDialog.showModal();
    }

    function toggleHardcodedPost(id){
      const hidden = getHiddenHardcoded();
      const index = hidden.indexOf(id);
      
      if(index === -1){
        hidden.push(id);
      } else {
        hidden.splice(index, 1);
      }
      
      setHiddenHardcoded(hidden);
      signalUpdate();
      renderHardcodedPosts();
    }

    function resetHardcodedPost(id){
      if(!confirm('Reset naar originele hardcoded waarden?')) return;
      const overrides = getHardcodedOverrides();
      delete overrides[id];
      setHardcodedOverrides(overrides);
      signalUpdate();
      renderHardcodedPosts();
    }

    // Update form submission to handle hardcoded posts
    const originalFormSubmit = editForm.onsubmit;
    editForm.onsubmit = function(e){
      e.preventDefault();
      
      if(editingId && editingId.toString().startsWith('hardcoded_')){
        // Handle hardcoded post update
        const id = +editingId.replace('hardcoded_', '');
        const overrides = getHardcodedOverrides();
        
        const updatedPost = {
          id: id,
          title: e_title.value.trim(),
          description: e_description.value.trim(),
          category: e_category.value,
          type: e_type.value,
          client: e_client.value.trim(),
          purpose: e_purpose.value.trim(),
          tools: e_tools.value.trim(),
          date: e_date.value,
          status: e_status.value,
          featured: e_featured.checked,
          images: [...(getHardcodedPosts().find(p=>p.id===id)?.images || []), ...editAddImages.map(x=>x.dataUrl)]
        };
        
        overrides[id] = updatedPost;
        setHardcodedOverrides(overrides);
        signalUpdate();
        renderHardcodedPosts();
        editDialog.close();
        alert('Hardcoded post bijgewerkt (override opgeslagen)');
        return;
      }
      
      // Regular post handling
      originalFormSubmit.call(this, e);
    };

    // ========== Upload to GitHub ==========
    function uploadToGitHub() {
      if (!confirm('Upload alle wijzigingen naar GitHub?\n\nDit zal je portfolio online updaten.')) return;
      
      const statusDiv = document.createElement('div');
      statusDiv.style.cssText = 'position:fixed; top:20px; right:20px; background:#007bff; color:white; padding:15px 20px; border-radius:8px; z-index:9999; box-shadow:0 4px 12px rgba(0,0,0,0.3);';
      statusDiv.innerHTML = 'üåê Uploading...';
      document.body.appendChild(statusDiv);
      
      // Simulate upload process (in real implementation, this would call a server endpoint)
      setTimeout(() => {
        statusDiv.innerHTML = 'üìù Preparing files...';
        setTimeout(() => {
          statusDiv.innerHTML = 'üöÄ Pushing to GitHub...';
          setTimeout(() => {
            statusDiv.innerHTML = '‚úÖ Upload complete!';
            statusDiv.style.background = '#28a745';
            setTimeout(() => {
              document.body.removeChild(statusDiv);
              
              // Show instructions
              const instructions = `
üéâ Upload gesimuleerd!

Voor echte upload:
1. Open PowerShell/Terminal in je portfolio folder
2. Run: git add .
3. Run: git commit -m "Portfolio update"
4. Run: git push origin main

Of dubbelklik op 'upload.bat' bestand.

Je portfolio is dan online beschikbaar via:
‚Ä¢ GitHub Pages: https://jesshielema.github.io/portfolio
‚Ä¢ Netlify: Je custom domain
‚Ä¢ Vercel: Je deployment URL
              `;
              
              alert(instructions);
            }, 2000);
          }, 1500);
        }, 1000);
      }, 500);
    }

    // Make upload function global
    window.uploadToGitHub = uploadToGitHub;
  </script>
</body>
</html>
